# Umbraco.Cms.Integrations.Crm.ActiveCampaign

This integration provides a form picker and rendering component for forms managed within an ActiveCampaign CRM account.

## Prerequisites

Required minimum versions of Umbraco CMS: 
- 10.1.0

## How To Use

### Authentication

All requests to the ActiveCampaign API are authenticated by providing
an API key. The API key is included as an HTTP header called _Api_Token_.

If the configuration is incomplete, the user will receive an error message.

### Configuration

To connect to your ActiveCampaign account, the following configuration is required:
```
"Umbraco": {
  "CMS": {
    "Integrations": {
        "Crm": {
          "ActiveCampaign": {
            "Settings": {
              "BaseUrl": "https://[YOUR_ACCOUNT_NAME].api-us1.com",
              "ApiKey": "[YOUR_API_KEY]"
            }
          }
        }
      }
```

### Backoffice usage

To use the form picker, a new data type should be created based on the ActiveCampaign Form Picker property editor.

The settings in `appsettings.json` will be used for sending the required HTTP header for authorization, and for retrieving the account name used for rendering the form.

### Front-end rendering

A strongly typed model will be generated by the property value converter, and an HTML helper is available, to easily render the form on the front-end.

Ensure your template has a reference to the following using statement:

```
@using Umbraco.Cms.Integrations.Crm.ActiveCampaign.Helpers;
```

And render the form using (assuming a property based on the created data type, with alias `activeCampaignForm` has been created):

```
@Html.RenderActiveCampaignForm(Model.ActiveCampaignForm)
```
