<div ng-controller="Umbraco.Cms.Integrations.PIM.Inriver.EntityPickerEditorController as vm">
    <umb-load-indicator ng-if="vm.loading">
    </umb-load-indicator>
    <uui-box headline="{{model.title}}" class="inriver-container">
        <uui-scroll-container style="width:100%">
            <uui-form>
                <uui-form-layout-item ng-if="vm.entities.length > 0">

                    <uui-table class="uui-text">
                        <uui-table-column style="width: 120px !important"></uui-table-column>
                        <uui-table-head>
                            <uui-table-head-cell>Name</uui-table-head-cell>
                            <uui-table-head-cell>Description</uui-table-head-cell>
                            <uui-table-head-cell ng-repeat="displayField in vm.entities[0].displayFields">{{displayField.fieldTypeId}}</uui-table-head-cell>
                        </uui-table-head>

                        <uui-table-row ng-repeat="entity in vm.entities" selectable ng-on-selected="vm.save(entity.id)">
                            <uui-table-cell>{{entity.displayName}}</uui-table-cell>
                            <uui-table-cell>{{entity.description}}</uui-table-cell>
                            <uui-table-cell ng-repeat="displayField in entity.displayFields">
                                {{displayField.value | date : "dd.MM.y HH:mm"}}
                            </uui-table-cell>
                        </uui-table-row>
                    </uui-table>
                    {{vm.pagination.totalPages}}
                    <uui-pagination ng-on-change="alert('aaa')" total={{vm.pagination.totalPages}}></uui-pagination>
                </uui-form-layout-item>
            </uui-form>
        </uui-scroll-container>
    </uui-box>
    <umb-editor-footer>
        <umb-editor-footer-content-right>
            <umb-button type="button"
                        button-style="link"
                        label-key="general_close"
                        shortcut="esc"
                        action="model.close()">
            </umb-button>
        </umb-editor-footer-content-right>
    </umb-editor-footer>
</div>